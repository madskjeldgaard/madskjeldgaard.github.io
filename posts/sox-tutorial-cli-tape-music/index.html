<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        SoX tutorial: Command line tape music (an introduction) ::
        Mads Kjeldgaard — Composer and developer
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="SoX is a very powerful command line audio processing tool. You can think of it as a sort of command line equivalent of Audacity but with a text based interface that let&amp;rsquo;s you perform powerful audio operations by typing just a few words in your computer&amp;rsquo;s terminal.
I came across SoX via the live coding community where it is a popular tool for chopping sound files (by detecting silence) and batch processing large quantities of audio files (eg."
/>
<meta
  name="keywords"
  content="computer music, supercollider, rust, vim, linux"
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="http://madskjeldgaard.dk/posts/sox-tutorial-cli-tape-music/" />





<link rel="stylesheet" href="http://madskjeldgaard.dk/assets/style.css" />

<link rel="stylesheet" href="http://madskjeldgaard.dk/style.css" />


<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="http://madskjeldgaard.dk/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="http://madskjeldgaard.dk/img/favicon.png" />


<link href="http://madskjeldgaard.dk/assets/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="http://madskjeldgaard.dk/assets/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="http://madskjeldgaard.dk/assets/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="http://madskjeldgaard.dk/assets/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="http://madskjeldgaard.dk/assets/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="http://madskjeldgaard.dk/assets/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://madskjeldgaard.dk/img/small/states-of-emergency.jpg"/>

<meta name="twitter:title" content="SoX tutorial: Command line tape music (an introduction)"/>
<meta name="twitter:description" content="SoX is a very powerful command line audio processing tool. You can think of it as a sort of command line equivalent of Audacity but with a text based interface that let&rsquo;s you perform powerful audio operations by typing just a few words in your computer&rsquo;s terminal.
I came across SoX via the live coding community where it is a popular tool for chopping sound files (by detecting silence) and batch processing large quantities of audio files (eg."/>



<meta property="og:title" content="SoX tutorial: Command line tape music (an introduction)" />
<meta property="og:description" content="SoX is a very powerful command line audio processing tool. You can think of it as a sort of command line equivalent of Audacity but with a text based interface that let&rsquo;s you perform powerful audio operations by typing just a few words in your computer&rsquo;s terminal.
I came across SoX via the live coding community where it is a popular tool for chopping sound files (by detecting silence) and batch processing large quantities of audio files (eg." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://madskjeldgaard.dk/posts/sox-tutorial-cli-tape-music/" /><meta property="og:image" content="http://madskjeldgaard.dk/img/small/states-of-emergency.jpg"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-04-26T00:00:44+02:00" />
<meta property="article:modified_time" content="2020-04-26T00:00:44+02:00" /><meta property="og:site_name" content="Mads Kjeldgaard" />







  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >madskjeldgaard</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/pages/about">about</a></li>
        
      
        
          <li><a href="/pages/contact">contact</a></li>
        
      
        
          <li><a href="/posts">posts</a></li>
        
      
        
          <li><a href="/pages/software">software</a></li>
        
      
        
          <li><a href="/pages/work">sound</a></li>
        
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/pages/about">about</a></li>
      
    
      
        <li><a href="/pages/contact">contact</a></li>
      
    
      
        <li><a href="/posts">posts</a></li>
      
    
      
        <li><a href="/pages/software">software</a></li>
      
    
      
        <li><a href="/pages/work">sound</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">SoX tutorial: Command line tape music (an introduction)</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2020-04-26
        </span>

        
          
        
      

      


      
    </div>

    
      <span class="post-tags">
        
          <a href="http://madskjeldgaard.dk/tags/sox/">#sox</a>&nbsp;
        
          <a href="http://madskjeldgaard.dk/tags/tutorial/">#tutorial</a>&nbsp;
        
      </span>
    

    

    <div class="post-content">
      
        
        <h2>Table of Contents</h2>
        <aside class="table-of-contents"><nav id="TableOfContents">
  <ul>
    <li><a href="#installing-sox">Installing SoX</a>
      <ul>
        <li><a href="#macos">MacOS</a></li>
        <li><a href="#windows">Windows</a></li>
        <li><a href="#ubuntu">Ubuntu</a></li>
        <li><a href="#arch--manjaro">Arch / Manjaro</a></li>
      </ul>
    </li>
    <li><a href="#whats-included">What&rsquo;s included</a>
      <ul>
        <li><a href="#the-manual">The manual</a></li>
        <li><a href="#audio-recorder">Audio recorder</a></li>
        <li><a href="#audio-player">Audio player</a></li>
      </ul>
    </li>
    <li><a href="#command-line-basics">Command line basics</a></li>
    <li><a href="#the-sox-command">The sox command</a></li>
    <li><a href="#command-line-tape-music">Command line tape music</a></li>
  </ul>
</nav></aside>
        
      
      <p>SoX is a very powerful command line audio processing tool. You can think of it as a sort of command line equivalent of Audacity but with a text based interface that let&rsquo;s you perform powerful audio operations by typing just a few words in your computer&rsquo;s terminal.</p>
<p>I came across SoX via the live coding community where it is a popular tool for chopping sound files (by detecting silence) and batch processing large quantities of audio files (eg. normalizing and entire folder of drum sounds in a matter of seconds). It is a very trustworhy and flexible solution ̣̣- and can even be used for DJ&rsquo;ing.</p>
<p>But the commands for SoX are dense and sometimes slightly obscure so getting started is not always easy.</p>
<p>Hopefully, this tutorial will sort out those problems.</p>
<h2 id="installing-sox">
  Installing SoX
  <a href="#installing-sox" class="h-anchor" aria-hidden="true">#</a>
</h2>
<h3 id="macos">
  MacOS
  <a href="#macos" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p>Using the Homebrew package manager:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">brew install sox
</code></pre></div><h3 id="windows">
  Windows
  <a href="#windows" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p>Using the Chocolatey package manager</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">choco install sox.portable
</code></pre></div><h3 id="ubuntu">
  Ubuntu
  <a href="#ubuntu" class="h-anchor" aria-hidden="true">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo apt install sox
</code></pre></div><h3 id="arch--manjaro">
  Arch / Manjaro
  <a href="#arch--manjaro" class="h-anchor" aria-hidden="true">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo pacman -S sox
</code></pre></div><h2 id="whats-included">
  What&rsquo;s included
  <a href="#whats-included" class="h-anchor" aria-hidden="true">#</a>
</h2>
<h3 id="the-manual">
  The manual
  <a href="#the-manual" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p><img src="/img/small/sox-man.png" alt="sox manual"></p>
<p>To read the manual, open up a terminal and type <code>man sox</code>.</p>
<p>The manual is the best place to find information and example usages for SoX.</p>
<p>To search the manual press <code>/</code> followed by your search query. By pressing <code>n</code> while searching, the cursor will jump to the next instance of the query you searched for. By pressing <code>N</code> the cursor will jump to the previous instance.</p>
<p>Scroll forward one page by pressing <code>ctrl-f</code></p>
<p>And backwards one page by pressing <code>ctrl-b</code></p>
<p>Exit the manual by pressing <code>q</code></p>
<h3 id="audio-recorder">
  Audio recorder
  <a href="#audio-recorder" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p>SoX includes a very handy way of recording audio using the <code>rec</code> command.</p>
<p>The simplest use is to type <code>rec filename</code> which will start recording from the default input until you stop it by pressing <code>ctrl-c</code> in the terminal window.</p>
<p>Example use:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">rec hello.wav
</code></pre></div><p>You can specify a predefined length of the recording like this: <code>rec hello.wav trim 0 30:00</code> which will record for 30 minutes and then automatically stop</p>
<h3 id="audio-player">
  Audio player
  <a href="#audio-player" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p>Similarly, playing audio is also possible using the command <code>play</code></p>
<p>Example use:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">play hello.wav
</code></pre></div><p>Note that both play and rec can be used with SoX&rsquo;s many included effects.</p>
<p>Playing the above example at half speed with a flanger at the end is as simple as</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">play hello.wav speed 0.5 flanger
</code></pre></div><h2 id="command-line-basics">
  Command line basics
  <a href="#command-line-basics" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>You do not have to have a lot of command line experience to use SoX but there is a few basic commands that will make it easier for you to navigate your computer in the command line.</p>
<p>• <code>pwd</code> - see path to directory you are currently in
• <code>ls</code> - see files in current directory
• <code>cd /some/path</code> - move to <strong>/some/path</strong>
• <code>cd ..</code> - move up one folder
• <code>cd ~</code> - move to home folder</p>
<p>As well as commands, here are some essential keyboard shortcuts:
• up/down - scroll through previous commands (easy way to see / reuse previous work)
• ctrl-c - cancel/abort the program (a sort of panic button)</p>
<p>Sometimes, a simple way of using <code>cd</code> is to drag and drop a folder from your computer onto your terminal, this will in most cases paste the full path.</p>
<h2 id="the-sox-command">
  The sox command
  <a href="#the-sox-command" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>Our main interface for sox in this tutorial will be the <code>sox</code> command. The basic usage of this includes specifying an input file path, an output file path and then optionally some effects followed by an optional series of parameters.</p>
<p>The basic command we will use will thus look like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sox inputfile outputfile effect parameters
</code></pre></div><p>If your input or output file contains spaces in the file name, you should wrap the path to it in quotation marks like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sox <span style="color:#e6db74">&#34;/some folder/containg/a sound.wav&#34;</span> <span style="color:#e6db74">&#34;outputfolder/a new sound.wav&#34;</span> effect param1
</code></pre></div><p>Like other command line tools, sox executes from the context of the folder that you are currently in (which can be found by typing <code>pwd</code>) and as such you do not need to type out the entire path to a file if it is in the same folder as the one you are executing sox from.</p>
<h2 id="command-line-tape-music">
  Command line tape music
  <a href="#command-line-tape-music" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>Tape music artists of the 60&rsquo;s and 70&rsquo;s had very rudimentary tools at their disposal - mostly they did their work using reel-to-reel tape recorders and simple effects. But you would be surprised by the incredible sonic possibilities available in a tool as simple as this, using basic techniques of recording, reversing, adding effects, changing playback speed, etc. you can get a long way towards making interesting music.</p>
<p>Let us explore some of SoX' basic commands a bit by doing some command line audio manipulations reminiscent of classic tape music techniques.</p>
<p>First of all, we need some audio to operate on. I would recommend recording a quick bit from your computer&rsquo;s microphone. If you have an instrument around, maybe use that for this exercise or simply (like me) whistle like an idiot in front of your computer.</p>
<p>Record to the file idiot.wav for 10 seconds:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">rec idiot.wav trim 0:0 0:10
</code></pre></div><p>Once SoX is done recording, it will post a &ldquo;done&rdquo; message.</p>
<p>Moving on, let us test the file we just recorded</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">play idiot.wav
</code></pre></div><p>You should now hear yourself doing something silly in front of your computer a few seconds ago.</p>
<p>To convert this to something else, we need to invoke the <code>sox</code> command now, providing it with an input file name, an output file name and a chain of effects. In this example, I will add a silly effects chain consisting of reversing the audio -&gt; flanger (2ms delay) -&gt; playback speed 50% (0.5) -&gt; reverb. The output of this operation will be saved in the file <code>art.wav</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sox idiot.wav art.wav reverse flanger <span style="color:#ae81ff">2</span> speed 0.5 reverb
</code></pre></div><p>If you execute the command <code>ls</code> now, you should in your directory see both the files idiot.wav (the original) and the manipulated file art.wav.</p>
<p>Just to be sure, we can test our output file.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">play art.wav
</code></pre></div><p>Now, we would not be proper command line tape musicians if we felt satisfied after 1 manipulation to the original recording, so let us continue our sonic journey by transforming the <code>art.wav</code> file further, this time we will time stretch to twice the length (factor 2), reverse the audio again and add some reverb. Just to make sure we do not lose too much of our audio level, we will normalize the output to -0.1db as well finally saving the result in the file <code>art2.wav</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sox art.wav art2.wav stretch <span style="color:#ae81ff">2</span> reverse reverb norm -0.1
</code></pre></div>
    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Read other posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="http://madskjeldgaard.dk/posts/sox-tutorial-split-by-silence/">
                  <span class="button__icon">←</span>
                  <span class="button__text">SoX tutorial: Split by silence</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="http://madskjeldgaard.dk/neovim-setup-for-c-and-openframeworks-development/">
                  <span class="button__text">NeoVim setup for c&#43;&#43; and openFrameworks development</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        

      
    
  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >madskjeldgaard</span
    >
    <span class="logo__cursor"></span>
  
</a>

      <div class="copyright">
        <span
          >© 2022 Powered by
          <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span
        >
        <span
          >Theme created by
          <a href="https://twitter.com/panr" target="_blank" rel="noopener">panr</a></span
        >
      </div>
    
  </div>
</footer>

<script src="http://madskjeldgaard.dk/assets/main.js"></script>
<script src="http://madskjeldgaard.dk/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
